<div class="container-fluid" ng-controller="ListVisitorController">
	<div class="row">
		<div class="col-md-10">
			<h2>Manage Visitors</h2>
		</div>
		<div class="col-md-2">
			<a href="#/addVisitor" class="btn btn-primary pull-right">Add Visitor</a>
		</div>
	</div>
	<div class="row">
		<div class="col-md-12">
			<h3>Find Visitor</h3>
		</div>
		
	</div>
	<form name="form" novalidate>
	
	<div class="row">
		<div class="col-md-2">
			<div class="form-group">
				    <input type="text" class="form-control" 
				    	id="mobileNumber" ng-model="visitorSearchFilter.mobile" 
				    	placeholder="Find by mobile number" name="mobileNumber" numeric
				    	>
				    <div ng-if="form.mobileNumber.$dirty" class="help-block">
			    		<div ng-messages="form.mobileNumber.$error" style="color: #e74c3c;">
	                        <div ng-message="numeric">Invalid mobile number</div>
	                    </div>
			    	</div>	
			  	</div>
		</div>
		<div class="col-md-2">
			<div class="form-group">
					    <input type="text" class="form-control" 
					    	id="firstName" ng-model="visitorSearchFilter.firstName" 
					    	placeholder="Find by first name" name="firstName"
					    	>
					    	
				  	</div>
		</div>
		
		<div class="col-md-2">
			<div class="form-group">
					    <input type="text" class="form-control" 
					    	id="lastName" ng-model="visitorSearchFilter.lastName" 
					    	placeholder="Enter last name" name="lastName" 
					    	>
					    	
				  	</div>
		</div>
		<div class="col-md-2">
			<a href="#" class="btn btn-primary" ng-click="applyVisitorFilterByPageNumber(1);" ng-disabled='form.$invalid'>Search</a>
		</div>
		
	</div>
	</form>
	
	<div class="row">
		<div class="col-md-10">
			<table class="table">
			<thead>
				<tr>
					<th>Sr No</th>
					<th>Name</th>
					<th>Age</th>
					<th>Sex</th>
					<th>Mobile</th>
					<th>Address</th>
					<th></th>
				</tr>
				</thead>
				<tr ng-repeat="visitor in visitors">
					<td>{{($index+1) + (visitorSearchFilter.pageNumber-1) * visitorSearchFilter.pageSize}}</td>
					<td>{{visitor.firstName}} {{visitor.lastName}}</td>
					<td>{{visitor.age}}</td>
					<td>{{visitor.sex}}</td>
					<td>{{visitor.mobile}}</td>
					<td>{{visitor.address.addressLine1}}, {{visitor.address.addressLine2}}</td>
					<td>
						<a href="#/editVisitor" ui-sref="editVisitor({visitorId: visitor.id})" class="btn btn-primary">Edit</a> &nbsp;
				</tr>
			</table>
		</div>
	</div>
	<div class="row">
		<div class="col-md-10">
			<nav style="display:table; margin: 0 auto;">
			  <ul class="pagination">
			    <li>
			      <a aria-label="First" ng-click="applyVisitorFilterByPageNumber(1);">
			        <span aria-hidden="true">&laquo;</span>
			      </a>
			    </li>
			    <li ng-repeat="n in visitorSearchFilter.pageNumbers"><a ng-click="applyVisitorFilterByPageNumber(n);">{{n}}</a></li>
			    <li>
			      <a aria-label="Last" ng-click="applyVisitorFilterByPageNumber(visitorSearchFilter.totalPages)">
			        <span aria-hidden="true">&raquo;</span>
			      </a>
			    </li>
			  </ul>
			</nav>
		</div>
	</div>

</div>